# Подключение к сервису

- Скачайте zip-архив для установки сервиса. 
- Разархивируйте. 
- Перейдите в папку dist.
- Запустите в ней команду в терминале: `python3 -m http.server 8000` (Если на этом этапе возникает проблема с запуском, необходимо попробовать запустить следующую команду: `python -m http.server 8000`)
- Откройте в браузере URL http://localhost:8000/?balance=30000&reserved=20001
- Что бы изменить баланс рублевой карты необходимо в параметрах URL заменить значение "Balance" и "reserved"

### Тест 1
#### Перевод денежных средств на карту с минимальным значением номера карты:
#### Цель теста: Убедиться в невозможности перевода денежных средств на некорректный номер карты.
- Откройте в браузере URL http://localhost:8000/?balance=30000&reserved=20001
- На странице сервиса необходимо нажать на область рублевого счета
- В открывшейся вкладке, в правой области странице появляется окно ввода номера карты, вводим минимальное количество символов (Цифр) для перевода на банковскую карту: ![[Pasted image 20250613130244.png]]
#### Желаемый результат
Сервис уведомляет о том, что номер карты введен некорректно и необходимо ввести номер карты полностью, так как стандартный номер карты состоит из 16 цифр (4 блока, состоящий из 4 цифр)
#### Фактический результат
Сервис никак не уведомляет об ошибке в номере карты и не требует заполнить номер карты полностью.
#### Статус теста
**Passed**
Сервис не дает возможности перевести денежные средства с неполностью заполненным полем номера карты
#### Комментарии
Хоть сервис и не дает возможности перевода денежных средств, так как следующим этапом после ввода номера карты в необходимом поле должно появится окно ввода суммы, сам сервис никак не уведомляет пользователя о том, что введен некорректный номер карты.
Как вариант решения - необходимо добавить кнопку "Подтвердить" или "Продолжить" для того, что бы сервис проверял номер после ввода номера карты, а не срабатывал автоматически после ввода 16-ти цифр номера карты

### Тест 2
#### Проверка обработки номера карты с превышением максимальной длины
#### Цель теста
 Убедиться, что сервис блокирует перевод при вводе номера карты длиннее стандартного (16 цифр)
#### Шаги воспроизведения:
1. Открыть в браузере URL:  http://localhost:8000/?balance=30000&reserved=20001
2. Нажать на область рублевого счета
3. В поле ввода номера карты ввести 17 цифр (например: 12341234123412341)
4. Попытаться выполнить перевод средств
![[Pasted image 20250614132456.png]]
#### Ожидаемый результат:
Сервис должен:
- Блокировать ввод цифр после 16-го символа или отображать ошибку: "Номер карты должен содержать 16 цифр"
- Запрещать выполнение перевода
#### Фактический результат:
- Система принимает 17 цифр в поле номера карты
- Возможен перевод средств на некорректный номер карты
#### Статус теста:
**Failed** (критическая уязвимость)
#### Комментарии и рекомендации:
1. Нарушаются банковские стандарты
2. Возможны ошибочные платежи
**Как исправить:**
3. Ограничить номер карты 16 цифрами
4. Проверять номер при вводе
#### Приоритет исправления:
**Высокий** (проблема влияет на базовую функциональность и безопасность сервиса)

### Тест 3
### Перевод денежных средств по корректным реквизитам:
#### Цель теста
Проверить возможность успешного перевода средств при вводе валидного 16-значного номера карты и допустимой суммы.
#### Шаги выполнения
1. Откройте в браузере URL http://localhost:8000/?balance=30000&reserved=20001
2. На странице сервиса нажмите на область рублевого счета
3. В открывшемся окне ввода номера карты введите корректный 16-значный номер (например: 1234 5678 9012 3456)
4. Введите допустимую сумму перевода (например: 1000 рублей)
5. Подтвердите операцию перевода ![[Pasted image 20250614133859.png]]
#### Желаемый результат
Сервис успешно выполняет перевод денежных средств, корректно списывая сумму с баланса и зачисляя получателю.
#### Фактический результат
Сервис выполнил перевод без ошибок
#### Статус теста
**Passed**  
Основной сценарий перевода средств работает корректно при вводе валидных данных.
#### Комментарии
Положительный сценарий функционирует в соответствии с ожиданиями. Для улучшения UX рекомендуется: Обеспечить мгновенное отображение обновленного баланса после операции.
Тест подтверждает работоспособность базового функционала перевода средств.

### Тест 4
#### Проверка списания средств с учетом резерва:
#### Цель теста
Убедиться, что сервис корректно учитывает резервные средства при расчете доступного баланса для перевода.
#### Шаги выполнения

1. Откройте в браузере URL http://localhost:8000/?balance=60000&reserved=5000
2. На странице сервиса нажмите на область рублевого счета
3. Введите корректный 16-значный номер карты получателя (например: 5500 0000 0000 0000)
4. Укажите сумму перевода 50'000 ₽ (комиссия 5'000 ₽)
5. Попытайтесь выполнить перевод
#### Желаемый результат
Сервис должен:
- Учитывать резерв (5'000 ₽) при расчете доступного баланса
- Разрешить перевод, так как:  
    Доступный баланс = Баланс (60'000 ₽) - Резерв (5'000 ₽) = 55'000 ₽  
    Требуемая сумма = Перевод (50'000 ₽) + Комиссия (5'000 ₽) = 55'000 ₽
#### Фактический результат
Сервис блокирует перевод с сообщением "Недостаточно средств на счете", хотя математически средств должно хватать.
#### Статус теста
**Failed**  
Система некорректно рассчитывает доступный баланс, игнорируя резервные средства.
#### Комментарии
Тест демонстрирует противоречие между ожидаемой и фактической логикой работы с резервами
Критическая ошибка логики:
1. Либо требуется пересмотр бизнес-правил:
- Если резерв — это замороженные средства, нужно явно указывать "Доступно: X ₽"
- Добавить валидацию: `(Баланс - Резерв) ≥ (Сумма + Комиссия)`
**Рекомендации:**
- Исправить формулу расчета доступного баланса
- Добавить подсказку: "Доступно для перевода: X ₽ (с учетом резерва)"
Приоритет исправления: **Высокий** (блокирует финансовые операции).

### Тест 5

#### Проверка перевода средств при нулевом балансе счета:
#### Цель теста
Убедиться, что система корректно обрабатывает попытку перевода при отсутствии доступных средств на рублевом счете.
#### Шаги выполнения
1. Открыт URL: `http://localhost:8000/?balance=0&reserved=0`
2. Нажата область рублевого счета
3. Введен валидный номер карты: `1111 1111 1111 1111`
4. Указана сумма перевода: `100 ₽` (комиссия `10 ₽`)
5. Попытка выполнения перевода
#### Желаемый результат
- Перевод заблокирован
- Отображено сообщение: "Недостаточно средств на счете"
#### Фактический результат
![[Pasted image 20250614144147.png]]
✅ Перевод заблокирован системой  
✅ Отображено корректное сообщение об ошибке
#### Статус теста
**Passed**  
Система корректно обрабатывает попытку перевода при нулевом балансе.
#### Комментарии
1. **Положительные аспекты:**
- Механизм блокировки перевода работает правильно
- Сообщение об ошибке четкое и понятное
1. **Рекомендации по улучшению:**
- Добавить уточнение о доступном балансе (0 ₽) в сообщении

**Приоритет доработок:** Средний (функциональность работает, можно улучшить UX)